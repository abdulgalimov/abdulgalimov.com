var stage = new createjs.Stage(document.getElementById("canvas"));
createjs.Ticker.framerate = 30;
createjs.Ticker.addEventListener("tick", stage);
//
var shape = new createjs.Shape();
shape.graphics.beginFill('#aaaaaa');
shape.graphics.drawRect(0, 0, 170, 240);
stage.addChild(shape);
//
var loaderEgg = document.createElement('script');
var rootCont = document.getElementsByTagName('head')[0];
rootCont.appendChild(loaderEgg);
loaderEgg.src = jsPath;
loaderEgg.view = this;
loaderEgg.onload = function()
{
	eggLib = window['lib_egg'];
	eggLib.properties.manifest[0].src = atlasPath;
	loaderManifest = new createjs.LoadQueue(false);
    loaderManifest.addEventListener("fileload", handleFileLoad);
    loaderManifest.addEventListener("complete", handleComplete);
    loaderManifest.loadManifest(eggLib.properties.manifest);
}
var eggLib;
var loaderManifest;
function handleFileLoad(evt)
{
	if (evt.item.type == "image") { eggLib.images[evt.item.id] = evt.result; }
}
var eggObj;
function handleComplete(evt)
{
	var queue = evt.target;
    var ssMetadata = eggLib.ssMetadata;
    var ssLoader;
    for(var i=0; i<ssMetadata.length; i++) {
        var result = queue.getResult(ssMetadata[i].name);
        if (!result) continue;
        var image = new createjs.SpriteSheet( {"images": [result], "frames": ssMetadata[i].frames} );
        eggLib.ss[ssMetadata[i].name] = image;
    }
    console.log('eggLib.ss:', eggLib.ss);
    console.log('eggLib.images:', eggLib.images);
    //
    eggObj = new eggLib.bot();
    eggObj.x = 185;
    eggObj.y = 130;
    stage.addChild(eggObj);
}